<section class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th class="instructions-controls">
        </th>
        <th>
          Instructions
        </th>
      </tr>
    </thead>
    <tbody data-bind="foreach: instructions">
      <tr data-bind="template: isEditing() ? 'instruction-edit' : 'instruction-display' ">
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td>
          <button type="button" class="btn btn-link" data-bind="command: saveNewInstruction"><i class="fa fa-fw fa-check"></i></button>
        </td>
        <td><input type="text" class="form-control" data-bind="value: newInstruction, valueUpdate: 'afterkeydown', autocomplete: { source: options, allowNewValues: true }, onEnter: saveNewInstruction, disable: isWorking" placeholder="New Instruction"></td>
      </tr>
    </tfoot>
  </table>
</section>

<script id="instruction-display" type="text/html">
  <td>
    <button type="button" class="btn btn-link" data-bind="click: $parent.deleteInstruction"><i class="fa fa-fw fa-trash-o"></i></button>
  </td>
  <td class="clickable" data-bind="click: $parent.editInstruction">
    <p class="form-control-static" data-bind="text: Text"></p>
  </td>
</script>

<script id="instruction-edit" type="text/html">
  <td data-bind="visible: isEditing">
    <section class="btn-group">
      <button type="button" class="btn btn-link" data-bind="click: $parent.saveInstructionEdit"><i class="fa fa-fw fa-check"></i></button>
      <button type="button" class="btn btn-link" data-bind="click: $parent.cancelInstructionEdit"><i class="fa fa-fw fa-times"></i></button>
    </section>
  </td>
  <td>
    <input type="text" class="form-control" data-bind="value: Text, valueUpdate: 'afterkeydown', autocomplete: { source: $parent.options, allowNewValues: true }, onEnter: $parent.saveInstructionEdit, disable: isWorking">
  </td>
</script>
