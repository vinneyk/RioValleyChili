<script id="product-specs-template" type="text/html">    
    <!-- ko if: hasProductSpecs -->
    <div class="" data-bind="ifnot: saveAllSpecsCommand.ignore">
        <input type="button" data-bind="command: saveAllSpecsCommand" value="Save All Specs" />
    </div>

    <ul class="tabular">
        <li class="header">
            <label>Attribute</label>
            <span class="spec">Min</span>
            <span class="spec">Max</span>
        </li>

        <!-- ko foreach: AttributeRanges -->
        <li data-bind="template: { name: isEditing() ? 'product-spec-editor-template' : 'product-spec-display-template' }"></li>
        <!-- /ko -->
    </ul>
    <!-- /ko -->
</script>

<script id="product-spec-display-template" type="text/html">
    <label data-bind="text: AttributeName"></label>
    <span class="spec" data-bind="text: MinValue"></span>
    <span class="spec" data-bind="text: MaxValue"></span>
    <input type="button" data-bind="command: beginEditingCommand" value="edit" class="link" />
    <span data-bind="ajaxStatus: saveCommand"></span>
</script>

<script id="product-spec-editor-template" type="text/html">
    <label data-bind="text: AttributeName"></label>
    <div style="display: inline" data-bind="validationOptions: { messageTemplate: 'hidden-validation-template' }">
        <input type="text" data-bind="value: MinValue" class="spec" />
        <input type="text" data-bind="value: MaxValue" class="spec" />
    </div>
    <div class="input-validation-message overlay" data-bind="visible: !MinValue.isValid() || !MaxValue.isValid()">Attribute range is invalid.</div>
    <input type="button" data-bind="command: cancelEditsCommand, value: hasChanges() ? 'undo' : 'cancel', css: { 'delete' : hasChanges() }, enable: cancelEditsCommand.canExecute() && !saveCommand.isExecuting()" />
    <input type="button" data-bind="command: saveCommand" value="save" class="save" />
    <span data-bind="ajaxStatus: saveCommand"></span>
</script>

<script id="hidden-validation-template" type="text/html">
    @*<span data-bind="if: field.isModified() && !field.isValid(), attr: {title: field.error}">Range is invalid</span>*@
</script>
 
<style>
    .spec {
        width: 100px;
        text-align: right;
        display: inline-block;
        overflow: hidden;
        margin: 2px 10px;
    }

    .tabular li.header {
        border-bottom: 2px solid #333;
        font-weight: bold;
    }
</style>